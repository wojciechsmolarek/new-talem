---
export interface Props {
  number: string;
  title: string;
  description: string;
  features?: string[];
  variant?: 'detailed' | 'simple';
  link?: string;
}

const { number, title, description, features = [], variant = 'detailed', link } = Astro.props;
const hasIcon = Astro.slots.has('icon');
const isDetailed = variant === 'detailed';
---

<div
  class="bg-white border-2 border-gray-200 rounded-2xl p-8 lg:p-12 relative transition-all duration-300 hover:border-accent hover:-translate-y-2 hover:shadow-2xl group"
>
  <div
    class:list={[
      'font-mono text-[0.85rem] font-bold mb-6',
      isDetailed ? 'text-accent' : 'text-gray-400 pb-4 border-b border-gray-100',
    ]}
  >
    {number}
  </div>

  <span
    class:list={[
      'block font-bold mb-4 leading-[1.3]',
      isDetailed ? 'font-display text-[1.5rem] lg:text-[1.75rem]' : 'font-body text-[1.15rem] mb-3',
    ]}
  >
    {title}
  </span>

  <p
    class:list={[
      'leading-[1.7]',
      isDetailed ? 'text-gray-600 mb-8 text-[0.95rem]' : 'text-gray-500 text-[0.88rem]',
    ]}
  >
    {description}
  </p>

  {
    features.length > 0 && (
      <ul class="list-none mb-8 space-y-3">
        {features.map((feature, index) => (
          <li
            class:list={[
              "relative pl-6 before:content-['→'] before:absolute before:left-0 before:text-accent before:font-semibold text-gray-700 text-[0.9rem]",
              index < features.length - 1 ? 'border-b border-gray-100 pb-2' : '',
            ]}
          >
            {feature}
          </li>
        ))}
      </ul>
    )
  }

  {
    hasIcon && (
      <div class="absolute top-8 right-8 lg:top-12 lg:right-12 text-gray-200 transition-all duration-300 group-hover:text-accent group-hover:scale-110 group-hover:rotate-6">
        <slot name="icon" />
      </div>
    )
  }
  <a href={link} class="inline-block mt-4 text-accent font-semibold hover:underline">
    Dowiedz się więcej →
  </a>
</div>
